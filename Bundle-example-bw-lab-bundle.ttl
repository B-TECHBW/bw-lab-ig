@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://b-techbw.github.io/bw-lab-ig/Bundle/example-bw-lab-bundle> a fhir:Bundle;
  fhir:nodeRole fhir:treeRoot;
  fhir:Resource.id [ fhir:value "example-bw-lab-bundle"];
  fhir:Bundle.type [ fhir:value "document"];
  fhir:Bundle.entry [
     fhir:index 0;
     fhir:Bundle.entry.resource [
       a fhir:Composition;
       fhir:Resource.id [ fhir:value "example-bw-lab-composition" ];
       fhir:Resource.meta [
         fhir:Meta.profile [
           fhir:value "http://b-techbw.github.io/bw-lab-ig/StructureDefinition/bw-lab-composition";
           fhir:index 0;
           fhir:link <http://b-techbw.github.io/bw-lab-ig/StructureDefinition/bw-lab-composition>
         ]
       ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "generated" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p><b>status</b>: active</p><p><b>type</b>: <span title=\"Codes: \">document</span></p><p><b>date</b>: 2021-06-06</p><p><b>author</b>: <a href=\"example-bw-practitioner\">example-bw-practitioner</a></p><p><b>title</b>: BW Lab Order Composition</p></div>"
       ];
       fhir:Composition.status [ fhir:value "active" ];
       fhir:Composition.type [
         fhir:CodeableConcept.coding [
           fhir:index 0;
           fhir:Coding.code [ fhir:value "document" ]
         ]
       ];
       fhir:Composition.subject [
         fhir:link <http://b-techbw.github.io/bw-lab-ig/Patient/example-pims-patient>;
         fhir:Reference.reference [ fhir:value "Patient/example-pims-patient" ]
       ];
       fhir:Composition.date [ fhir:value "2021-06-06"^^xsd:date ];
       fhir:Composition.author [
         fhir:index 0;
         fhir:Reference.reference [ fhir:value "example-bw-practitioner" ]
       ];
       fhir:Composition.title [ fhir:value "BW Lab Order Composition" ];
       fhir:Composition.section [
         fhir:index 0;
         fhir:Composition.section.entry [
           fhir:index 0;
           fhir:link <http://b-techbw.github.io/bw-lab-ig/Task/example-bw-task-requested>;
           fhir:Reference.reference [ fhir:value "Task/example-bw-task-requested" ]
         ]
       ], [
         fhir:index 1;
         fhir:Composition.section.entry [
           fhir:index 0;
           fhir:link <http://b-techbw.github.io/bw-lab-ig/ServiceRequest/example-bw-pims-service-request-profile>;
           fhir:Reference.reference [ fhir:value "ServiceRequest/example-bw-pims-service-request-profile" ]
         ], [
           fhir:index 1;
           fhir:link <http://b-techbw.github.io/bw-lab-ig/ServiceRequest/example-bw-pims-service-request-1>;
           fhir:Reference.reference [ fhir:value "ServiceRequest/example-bw-pims-service-request-1" ]
         ], [
           fhir:index 2;
           fhir:link <http://b-techbw.github.io/bw-lab-ig/ServiceRequest/example-bw-pims-service-request-2>;
           fhir:Reference.reference [ fhir:value "ServiceRequest/example-bw-pims-service-request-2" ]
         ]
       ]
     ]
  ], [
     fhir:index 1;
     fhir:Bundle.entry.resource [
       a fhir:Patient;
       fhir:Resource.id [ fhir:value "example-pims-patient" ];
       fhir:Resource.meta [
         fhir:Meta.profile [
           fhir:value "http://b-techbw.github.io/bw-lab-ig/StructureDefinition/bw-patient";
           fhir:index 0;
           fhir:link <http://b-techbw.github.io/bw-lab-ig/StructureDefinition/bw-patient>
         ]
       ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "generated" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p><b>identifier</b>: MR: urn:uuid:&lt;Pims-specific Patient ID&gt;, id: &lt;OmangNumber&gt; (OFFICIAL)</p><p><b>name</b>: Test PimsPatient (OFFICIAL)</p><p><b>gender</b>: female</p><p><b>birthDate</b>: 1988-03-02</p><p><b>managingOrganization</b>: <a href=\"Organization-example-facility-order-creator.html\">Generated Summary: active; <span title=\"Codes: {urn:ietf:rfc:3986 prov}\">prov</span>, <span title=\"Codes: {https://github.com/ihe/ITI.mCSD Facility}\">Facility</span></a></p></div>"
       ];
       fhir:Patient.identifier [
         fhir:index 0;
         fhir:Identifier.type [
           fhir:CodeableConcept.coding [
             fhir:index 0;
             fhir:Coding.code [ fhir:value "MR" ]
           ]
         ];
         fhir:Identifier.system [ fhir:value "urn:ietf:rfc:3986" ];
         fhir:Identifier.value [ fhir:value "urn:uuid:<Pims-specific Patient ID>" ]
       ], [
         fhir:index 1;
         fhir:Identifier.use [ fhir:value "official" ];
         fhir:Identifier.system [ fhir:value "http://moh.bw.org/ext/identifier/omang" ];
         fhir:Identifier.value [ fhir:value "<OmangNumber>" ]
       ];
       fhir:Patient.name [
         fhir:index 0;
         fhir:HumanName.use [ fhir:value "official" ];
         fhir:HumanName.family [ fhir:value "PimsPatient" ];
         fhir:HumanName.given [
           fhir:value "Test";
           fhir:index 0
         ]
       ];
       fhir:Patient.gender [ fhir:value "female" ];
       fhir:Patient.birthDate [ fhir:value "1988-03-02"^^xsd:date ];
       fhir:Patient.managingOrganization [
         fhir:link <http://b-techbw.github.io/bw-lab-ig/Organization/example-facility-order-creator>;
         fhir:Reference.reference [ fhir:value "Organization/example-facility-order-creator" ]
       ]
     ]
  ], [
     fhir:index 2;
     fhir:Bundle.entry.resource [
       a fhir:Practitioner;
       fhir:Resource.id [ fhir:value "example-bw-pims-practitioner" ];
       fhir:Resource.meta [
         fhir:Meta.profile [
           fhir:value "http://b-techbw.github.io/bw-lab-ig/StructureDefinition/bw-practitioner";
           fhir:index 0;
           fhir:link <http://b-techbw.github.io/bw-lab-ig/StructureDefinition/bw-practitioner>
         ]
       ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "generated" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p><b>identifier</b>: id: RequesterID</p><p><b>name</b>: BW PimsProvider</p></div>"
       ];
       fhir:Practitioner.identifier [
         fhir:index 0;
         fhir:Identifier.system [ fhir:value "http://<pims-instance-specific-url>/ext/practitioner/identifier" ];
         fhir:Identifier.value [ fhir:value "RequesterID" ]
       ];
       fhir:Practitioner.name [
         fhir:index 0;
         fhir:HumanName.text [ fhir:value "BW PimsProvider" ]
       ]
     ]
  ], [
     fhir:index 3;
     fhir:Bundle.entry.resource [
       a fhir:Task;
       fhir:Resource.id [ fhir:value "example-bw-task-requested" ];
       fhir:Resource.meta [
         fhir:Meta.profile [
           fhir:value "http://b-techbw.github.io/bw-lab-ig/StructureDefinition/bw-lab-task";
           fhir:index 0;
           fhir:link <http://b-techbw.github.io/bw-lab-ig/StructureDefinition/bw-lab-task>
         ]
       ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "generated" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p><b>identifier</b>: id: PimsSpecificLabOrderID</p><p><b>basedOn</b>: </p><ul><li><a href=\"#ServiceRequest_example-bw-pims-service-request-1\">See above (ServiceRequest/example-bw-pims-service-request-1)</a></li><li><a href=\"#ServiceRequest_example-bw-pims-service-request-2\">See above (ServiceRequest/example-bw-pims-service-request-2)</a></li></ul><p><b>status</b>: requested</p><p><b>intent</b>: order</p><p><b>for</b>: <a href=\"#Patient_example-pims-patient\">See above (Patient/example-pims-patient)</a></p><p><b>authoredOn</b>: 2021-05-20</p><p><b>owner</b>: <a href=\"Organization-example-facility-order-reciever.html\">Generated Summary: active; <span title=\"Codes: {urn:ietf:rfc:3986 dept}\">dept</span>, <span title=\"Codes: {https://github.com/ihe/ITI.mCSD Facility}\">Facility</span></a></p><p><b>location</b>: <a href=\"Location-example-location-order-creator.html\">Generated Summary: status: active; <span title=\"Codes: {urn:ietf:rfc:3986 HOSP}\">HOSP</span>, <span title=\"Codes: {https://github.com/ihe/ITI.mCSD Facility}\">Facility</span>; <span title=\"Codes: \">bu</span></a></p></div>"
       ];
       fhir:Task.identifier [
         fhir:index 0;
         fhir:Identifier.system [ fhir:value "http://<pims-instance-specific-url>/ext/lab-task/identifier" ];
         fhir:Identifier.value [ fhir:value "PimsSpecificLabOrderID" ]
       ];
       fhir:Task.basedOn [
         fhir:index 0;
         fhir:link <http://b-techbw.github.io/bw-lab-ig/ServiceRequest/example-bw-pims-service-request-1>;
         fhir:Reference.reference [ fhir:value "ServiceRequest/example-bw-pims-service-request-1" ]
       ], [
         fhir:index 1;
         fhir:link <http://b-techbw.github.io/bw-lab-ig/ServiceRequest/example-bw-pims-service-request-2>;
         fhir:Reference.reference [ fhir:value "ServiceRequest/example-bw-pims-service-request-2" ]
       ];
       fhir:Task.status [ fhir:value "requested" ];
       fhir:Task.intent [ fhir:value "order" ];
       fhir:Task.for [
         fhir:link <http://b-techbw.github.io/bw-lab-ig/Patient/example-pims-patient>;
         fhir:Reference.reference [ fhir:value "Patient/example-pims-patient" ]
       ];
       fhir:Task.authoredOn [ fhir:value "2021-05-20"^^xsd:date ];
       fhir:Task.owner [
         fhir:link <http://b-techbw.github.io/bw-lab-ig/Organization/example-facility-order-reciever>;
         fhir:Reference.reference [ fhir:value "Organization/example-facility-order-reciever" ]
       ];
       fhir:Task.location [
         fhir:link <http://b-techbw.github.io/bw-lab-ig/Location/example-location-order-creator>;
         fhir:Reference.reference [ fhir:value "Location/example-location-order-creator" ]
       ]
     ]
  ], [
     fhir:index 4;
     fhir:Bundle.entry.resource [
       a fhir:ServiceRequest;
       fhir:Resource.id [ fhir:value "example-bw-pims-service-request-profile" ];
       fhir:Resource.meta [
         fhir:Meta.profile [
           fhir:value "http://b-techbw.github.io/bw-lab-ig/StructureDefinition/bw-basic-service-request";
           fhir:index 0;
           fhir:link <http://b-techbw.github.io/bw-lab-ig/StructureDefinition/bw-basic-service-request>
         ]
       ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "generated" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p><b>status</b>: active</p><p><b>intent</b>: order</p><p><b>code</b>: <span title=\"Codes: {http://moh.bw.org/ext/laboratory/pims-lab-profile-code pims-profile-code}\">pims-profile-code</span></p><p><b>subject</b>: <a href=\"#Patient_example-pims-patient\">See above (Patient/example-pims-patient)</a></p><p><b>performer</b>: <a href=\"Organization-example-facility-order-reciever.html\">Generated Summary: active; <span title=\"Codes: {urn:ietf:rfc:3986 dept}\">dept</span>, <span title=\"Codes: {https://github.com/ihe/ITI.mCSD Facility}\">Facility</span></a></p><p><b>locationReference</b>: <a href=\"Location-example-location-order-reciever.html\">Generated Summary: status: active; <span title=\"Codes: {urn:ietf:rfc:3986 HLAB}\">HLAB</span>, <span title=\"Codes: {https://github.com/ihe/ITI.mCSD Facility}\">Facility</span>; <span title=\"Codes: \">bu</span></a></p></div>"
       ];
       fhir:ServiceRequest.status [ fhir:value "active" ];
       fhir:ServiceRequest.intent [ fhir:value "order" ];
       fhir:ServiceRequest.code [
         fhir:CodeableConcept.coding [
           fhir:index 0;
           fhir:Coding.system [ fhir:value "http://moh.bw.org/ext/laboratory/pims-lab-profile-code" ];
           fhir:Coding.code [ fhir:value "pims-profile-code" ]
         ]
       ];
       fhir:ServiceRequest.subject [
         fhir:link <http://b-techbw.github.io/bw-lab-ig/Patient/example-pims-patient>;
         fhir:Reference.reference [ fhir:value "Patient/example-pims-patient" ]
       ];
       fhir:ServiceRequest.performer [
         fhir:index 0;
         fhir:link <http://b-techbw.github.io/bw-lab-ig/Organization/example-facility-order-reciever>;
         fhir:Reference.reference [ fhir:value "Organization/example-facility-order-reciever" ]
       ];
       fhir:ServiceRequest.locationReference [
         fhir:index 0;
         fhir:link <http://b-techbw.github.io/bw-lab-ig/Location/example-location-order-reciever>;
         fhir:Reference.reference [ fhir:value "Location/example-location-order-reciever" ]
       ]
     ]
  ], [
     fhir:index 5;
     fhir:Bundle.entry.resource [
       a fhir:ServiceRequest;
       fhir:Resource.id [ fhir:value "example-bw-pims-service-request-1" ];
       fhir:Resource.meta [
         fhir:Meta.profile [
           fhir:value "http://b-techbw.github.io/bw-lab-ig/StructureDefinition/bw-basic-service-request";
           fhir:index 0;
           fhir:link <http://b-techbw.github.io/bw-lab-ig/StructureDefinition/bw-basic-service-request>
         ]
       ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "generated" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p><b>basedOn</b>: <a href=\"#ServiceRequest_example-bw-pims-service-request-profile\">See above (ServiceRequest/example-bw-pims-service-request-profile)</a></p><p><b>status</b>: active</p><p><b>intent</b>: order</p><p><b>code</b>: <span title=\"Codes: {http://moh.bw.org/ext/laboratory/pims-lab-test-code pims-labtest-code}\">pims-labtest-code</span></p><p><b>subject</b>: <a href=\"#Patient_example-pims-patient\">See above (Patient/example-pims-patient)</a></p><p><b>performer</b>: <a href=\"Organization-example-facility-order-reciever.html\">Generated Summary: active; <span title=\"Codes: {urn:ietf:rfc:3986 dept}\">dept</span>, <span title=\"Codes: {https://github.com/ihe/ITI.mCSD Facility}\">Facility</span></a></p><p><b>locationReference</b>: <a href=\"Location-example-location-order-reciever.html\">Generated Summary: status: active; <span title=\"Codes: {urn:ietf:rfc:3986 HLAB}\">HLAB</span>, <span title=\"Codes: {https://github.com/ihe/ITI.mCSD Facility}\">Facility</span>; <span title=\"Codes: \">bu</span></a></p></div>"
       ];
       fhir:ServiceRequest.basedOn [
         fhir:index 0;
         fhir:link <http://b-techbw.github.io/bw-lab-ig/ServiceRequest/example-bw-pims-service-request-profile>;
         fhir:Reference.reference [ fhir:value "ServiceRequest/example-bw-pims-service-request-profile" ]
       ];
       fhir:ServiceRequest.status [ fhir:value "active" ];
       fhir:ServiceRequest.intent [ fhir:value "order" ];
       fhir:ServiceRequest.code [
         fhir:CodeableConcept.coding [
           fhir:index 0;
           fhir:Coding.system [ fhir:value "http://moh.bw.org/ext/laboratory/pims-lab-test-code" ];
           fhir:Coding.code [ fhir:value "pims-labtest-code" ]
         ]
       ];
       fhir:ServiceRequest.subject [
         fhir:link <http://b-techbw.github.io/bw-lab-ig/Patient/example-pims-patient>;
         fhir:Reference.reference [ fhir:value "Patient/example-pims-patient" ]
       ];
       fhir:ServiceRequest.performer [
         fhir:index 0;
         fhir:link <http://b-techbw.github.io/bw-lab-ig/Organization/example-facility-order-reciever>;
         fhir:Reference.reference [ fhir:value "Organization/example-facility-order-reciever" ]
       ];
       fhir:ServiceRequest.locationReference [
         fhir:index 0;
         fhir:link <http://b-techbw.github.io/bw-lab-ig/Location/example-location-order-reciever>;
         fhir:Reference.reference [ fhir:value "Location/example-location-order-reciever" ]
       ]
     ]
  ], [
     fhir:index 6;
     fhir:Bundle.entry.resource [
       a fhir:ServiceRequest;
       fhir:Resource.id [ fhir:value "example-bw-pims-service-request-2" ];
       fhir:Resource.meta [
         fhir:Meta.profile [
           fhir:value "http://b-techbw.github.io/bw-lab-ig/StructureDefinition/bw-basic-service-request";
           fhir:index 0;
           fhir:link <http://b-techbw.github.io/bw-lab-ig/StructureDefinition/bw-basic-service-request>
         ]
       ];
       fhir:DomainResource.text [
         fhir:Narrative.status [ fhir:value "generated" ];
         fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p><b>basedOn</b>: <a href=\"#ServiceRequest_example-bw-pims-service-request-profile\">See above (ServiceRequest/example-bw-pims-service-request-profile)</a></p><p><b>status</b>: active</p><p><b>intent</b>: order</p><p><b>code</b>: <span title=\"Codes: {http://moh.bw.org/ext/laboratory/pims-lab-test-code pims-labtest-code}\">pims-labtest-code</span></p><p><b>subject</b>: <a href=\"#Patient_example-pims-patient\">See above (Patient/example-pims-patient)</a></p><p><b>performer</b>: <a href=\"Organization-example-facility-order-reciever.html\">Generated Summary: active; <span title=\"Codes: {urn:ietf:rfc:3986 dept}\">dept</span>, <span title=\"Codes: {https://github.com/ihe/ITI.mCSD Facility}\">Facility</span></a></p><p><b>locationReference</b>: <a href=\"Location-example-location-order-reciever.html\">Generated Summary: status: active; <span title=\"Codes: {urn:ietf:rfc:3986 HLAB}\">HLAB</span>, <span title=\"Codes: {https://github.com/ihe/ITI.mCSD Facility}\">Facility</span>; <span title=\"Codes: \">bu</span></a></p></div>"
       ];
       fhir:ServiceRequest.basedOn [
         fhir:index 0;
         fhir:link <http://b-techbw.github.io/bw-lab-ig/ServiceRequest/example-bw-pims-service-request-profile>;
         fhir:Reference.reference [ fhir:value "ServiceRequest/example-bw-pims-service-request-profile" ]
       ];
       fhir:ServiceRequest.status [ fhir:value "active" ];
       fhir:ServiceRequest.intent [ fhir:value "order" ];
       fhir:ServiceRequest.code [
         fhir:CodeableConcept.coding [
           fhir:index 0;
           fhir:Coding.system [ fhir:value "http://moh.bw.org/ext/laboratory/pims-lab-test-code" ];
           fhir:Coding.code [ fhir:value "pims-labtest-code" ]
         ]
       ];
       fhir:ServiceRequest.subject [
         fhir:link <http://b-techbw.github.io/bw-lab-ig/Patient/example-pims-patient>;
         fhir:Reference.reference [ fhir:value "Patient/example-pims-patient" ]
       ];
       fhir:ServiceRequest.performer [
         fhir:index 0;
         fhir:link <http://b-techbw.github.io/bw-lab-ig/Organization/example-facility-order-reciever>;
         fhir:Reference.reference [ fhir:value "Organization/example-facility-order-reciever" ]
       ];
       fhir:ServiceRequest.locationReference [
         fhir:index 0;
         fhir:link <http://b-techbw.github.io/bw-lab-ig/Location/example-location-order-reciever>;
         fhir:Reference.reference [ fhir:value "Location/example-location-order-reciever" ]
       ]
     ]
  ] .

# - ontology header ------------------------------------------------------------

<http://b-techbw.github.io/bw-lab-ig/Bundle/example-bw-lab-bundle.ttl> a owl:Ontology;
  owl:imports fhir:fhir.ttl .

# -------------------------------------------------------------------------------------

